#!/usr/bin/env php
<?php declare(strict_types=1);

use haxe\{EntryPoint};
use php\{Boot};
use which\{Program};

// Load the dependencies.
$autoload = new SplFileInfo(__DIR__."/../../../autoload.php");
$rootPath = (new SplFileInfo(__DIR__))->getPath();

$classLoader = require_once $autoload->isFile() ? $autoload->getPathname() : "$rootPath/vendor/autoload.php";
if (!interface_exists("thenshim\\Thenable")) $classLoader->setPsr4("thenshim\\", "$rootPath/lib/php/thenshim/");
if (!class_exists("tink\\Cli")) $classLoader->setPsr4("tink\\", "$rootPath/lib/php/tink/");

// Start the application.
Boot::__hx__init();
Program::main();
EntryPoint::run();
